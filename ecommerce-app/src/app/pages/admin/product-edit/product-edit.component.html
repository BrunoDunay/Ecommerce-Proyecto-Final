<div class="max-w-6xl mx-auto mt-10 bg-white shadow-lg rounded-2xl p-8">

  <!-- Título -->
  <h1 class="text-3xl font-bold text-slate-800 mb-8">
    Editar Producto
  </h1>

  <form [formGroup]="form" class="grid grid-cols-1 lg:grid-cols-2 gap-8">

    <!-- Panel Izquierdo: Vista previa + Imagen -->
    <div class="space-y-6">

      <div>
        <label class="block font-semibold mb-1 text-slate-700">URL de Imagen</label>
        <input 
          type="text" 
          formControlName="imageUrl"
          placeholder="https://ruta-de-imagen.jpg"
          class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-400"
        />
      </div>

      <!-- Vista previa de la imagen -->
      <div class="rounded-xl overflow-hidden shadow">
        <img 
          [src]="form.value.imageUrl || 'https://via.placeholder.com/400x400?text=Vista+previa'"
          alt="Imagen del producto"
          class="w-full h-120 object-cover"
        />
      </div>

    </div>

    <!-- Panel Derecho: Form Campos -->
    <div class="space-y-6">

      <!-- Nombre -->
      <div>
        <label class="block font-semibold mb-1 text-slate-700">Nombre</label>
        <input 
          type="text"
          formControlName="name"
          class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-400"
        />
      </div>

      <!-- Descripción -->
      <div>
        <label class="block font-semibold mb-1 text-slate-700">Descripción</label>
        <textarea
          formControlName="description"
          rows="4"
          class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-400"
        ></textarea>
      </div>

      <!-- Precio -->
      <div>
        <label class="block font-semibold mb-1 text-slate-700">Precio</label>
        <input
          type="number"
          formControlName="price"
          class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-400"
        />
      </div>

      <!-- Oferta -->
      <div>
        <label class="block font-semibold mb-1 text-slate-700">Oferta (%)</label>
        <input
          type="number"
          formControlName="offer"
          min="0"
          max="100"
          class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-400"
        />
      </div>

      <!-- Stock -->
      <div>
        <label class="block font-semibold mb-1 text-slate-700">Stock</label>
        <input
          type="number"
          formControlName="stock"
          class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-400"
        />
      </div>

      <!-- Categoría -->
      <div>
        <label class="block font-semibold mb-1 text-slate-700">Categoría</label>
        <select
          formControlName="category"
          class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-400"
        >
          <option value="">Selecciona una categoría</option>
          <option *ngFor="let cat of categories" [value]="cat._id">
            {{ cat.name }}
          </option>
        </select>
      </div>

    </div>
  </form>

  <!-- Botones -->
  <div class="flex justify-end mt-10 gap-4">

    <button
      routerLink="/products-list"
      class="px-6 py-3 bg-gray-200 hover:bg-gray-300 rounded-lg font-semibold"
    >
      Cancelar
    </button>

    <button
      (click)="updateProduct()"
      [disabled]="form.invalid || loading"
      class="px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50"
    >
      {{ loading ? 'Guardando...' : 'Guardar Cambios' }}
    </button>

  </div>

</div>
